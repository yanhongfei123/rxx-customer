(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-reg-reg"],{"3d6b":function(t,e,s){var n=s("7453");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=s("4f06").default;i("f26f474e",n,!0,{sourceMap:!1,shadowMode:!1})},7453:function(t,e,s){e=t.exports=s("2350")(!1),e.push([t.i,"\n.reg-label[data-v-367c2ecc]{margin:%?96?% 0 66px %?30?%;font-size:%?55?%;color:#000\n}\n.input-row[data-v-367c2ecc]{margin:0 0 0 %?30?%;padding-right:%?30?%\n}\n.btn-row[data-v-367c2ecc]{width:%?690?%;margin:%?165?% auto 0\n}\n.get-code[data-v-367c2ecc]{font-size:%?30?%;color:#ff9833;margin-right:%?30?%\n}",""])},"7d2f":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",{staticClass:"content"},[s("v-uni-view",{staticClass:"reg-label"},[t._v("新用户注册")]),s("v-uni-view",{staticClass:"input-group"},[s("v-uni-view",{staticClass:"input-row"},[s("v-uni-text",{staticClass:"title"},[t._v("姓名：")]),s("uni-input",{attrs:{type:"text",focus:"",clearable:"",placeholder:"请输入您的姓名"},model:{value:t.NAME,callback:function(e){t.NAME=e},expression:"NAME"}})],1),s("v-uni-view",{staticClass:"input-row"},[s("v-uni-text",{staticClass:"title"},[t._v("手机号：")]),s("uni-input",{attrs:{type:"text",maxlength:"11",clearable:"",placeholder:"请输入手机号码"},model:{value:t.PHONE,callback:function(e){t.PHONE=e},expression:"PHONE"}})],1),s("v-uni-view",{staticClass:"input-row"},[s("v-uni-text",{staticClass:"title"},[t._v("密码：")]),s("uni-input",{attrs:{type:"password",displayable:"",placeholder:"请输入密码"},model:{value:t.PASSWORD,callback:function(e){t.PASSWORD=e},expression:"PASSWORD"}})],1),s("v-uni-view",{staticClass:"input-row"},[s("v-uni-text",{staticClass:"title"},[t._v("验证码：")]),s("uni-input",{attrs:{type:"text",maxlength:"6",placeholder:"请输入短信验证码"},model:{value:t.smscode,callback:function(e){t.smscode=e},expression:"smscode"}}),s("count-down",{ref:"countDown",attrs:{color:"FF9833",size:"30"},on:{countDown:function(e){e=t.$handleEvent(e),t.getCode(e)}}})],1)],1),s("v-uni-view",{staticClass:"btn-row"},[s("v-uni-button",{staticClass:"primary",attrs:{type:"primary",disabled:t._disabled},on:{click:function(e){e=t.$handleEvent(e),t.register(e)}}},[t._v("注册")])],1)],1)},i=[],a=s("e8e3"),o=s("5279"),c=s("38c1"),l=s("363b"),r={components:{uniInput:a["a"],countDown:o["a"]},computed:{_disabled:function(){return!(this.NAME&&this.PHONE&&this.PASSWORD&&this.smscode)}},data:function(){return{disabled:!1,NAME:"",PHONE:"",PASSWORD:"",smscode:""}},onShow:function(){console.log(this.disabled)},methods:{getCode:function(){var t=this,e=this.validateMobileFunc();e?this.Util.Toast.toast(e):(console.log(this.disabled),this.disabled||(this.disabled=!0,this.API.sendMsg({phone:this.PHONE,type:1}).then(function(e){t.$refs.countDown.countDown(),t.Util.Toast.success("验证码已发送"),setTimeout(function(){t.disabled=!1},6e3)}).catch(function(e){t.disabled=!1})))},register:function(){var t=this,e=this.validateFunc();if(e)this.Util.Toast.toast(e);else{var s={NAME:this.NAME,PHONE:this.PHONE,PASSWORD:this.PASSWORD,smscode:this.smscode};this.API.registerCustomer(s).then(function(e){t.Util.Toast.success("注册成功"),setTimeout(function(){uni.navigateBack()},2e3)})}},validateMobileFunc:function(){var t=new c["a"](l["a"]);t.addRules(this.PHONE,[{strategy:"mobile",errorMsg:"请输入正确的手机号"}],function(){console.log("验证通过")});var e=t.start();return e},validateFunc:function(){var t=new c["a"](l["a"]);t.addRules(this.NAME,[{strategy:"isEmpty",errorMsg:"请输入姓名"}],function(){console.log("验证通过")}),t.addRules(this.PHONE,[{strategy:"mobile",errorMsg:"请输入正确的手机号"}],function(){console.log("验证通过")}),t.addRules(this.PASSWORD,[{strategy:"minLength:5",errorMsg:"密码长度不能少于5个字符"}],function(){console.log("验证通过")}),t.addRules(this.smscode,[{strategy:"minLength:4",errorMsg:"请输入短信验证码"}],function(){console.log("验证通过")});var e=t.start();return e}}},u=r,d=(s("b62c"),s("2877")),v=Object(d["a"])(u,n,i,!1,null,"367c2ecc",null);v.options.__file="reg.vue";e["default"]=v.exports},b62c:function(t,e,s){"use strict";var n=s("3d6b"),i=s.n(n);i.a}}]);