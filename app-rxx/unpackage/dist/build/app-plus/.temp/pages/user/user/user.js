require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([4],{80:function(t,i,s){"use strict";var e=n(s(1)),a=n(s(81));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(a.default))},81:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s(83),a=s.n(e),n=s(84);var o=function(t){s(82)},c=s(0)(a.a,n.a,o,null,null);i.default=c.exports},82:function(t,i){},83:function(t,i,s){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0});var e=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&(t[e]=s[e])}return t},a=s(3),n=s(7);i.default={computed:e({},(0,a.mapState)(["token"])),data:function(){return{shareParams:{provider:"weixin",type:0,href:"http://api.rongxiaoxiao.com/about_client",title:"融小小分享",summary:"融小小分享内容",imageUrl:"https://m-fat.wolaidai.com/web-static/webapp/auto/img/home_banner_new_user.png"},isShowMask:!1,logoSrc:"../../../static/img/logo.png"}},onShareAppMessage:function(){return{title:this.title,path:"/pages/home/home",imageUrl:this.imageUrl}},methods:{showMask:function(t){this.isShowMask=t},goDetail:function(i){t.navigateTo({url:"/pages/"+i})},shareWeiXin:function(i){var s=this.shareParams;t.share(e({scene:i},s,{success:function(t){},fail:function(t){plus.nativeUI.toast("分享失败")}}))},shareQQ:function(){var i=this.shareParams;t.share(e({},i,{provider:"qq",success:function(t){},fail:function(t){plus.nativeUI.toast("分享失败")}}))},shareQQ2:function(){var t=null;plus.share.getServices(function(i){for(var s in i)"qq"==i[s].id&&(t=i[s]);null!=t?(plus.nativeUI.toast(JSON.stringify(i)),t.send({content:"我是QQ分享",thumbs:["../../static/img/blogo.png"],href:"https://www.baidu.com/",title:"test"},function(){plus.nativeUI.alert("分享成功！")},function(t){plus.nativeUI.alert("分享失败："+t.message)})):plus.nativeUI.toast("获取分享服务失败")},function(t){plus.nativeUI.alert(t.message)})},updateUserinfo:function(){var t=this,i={AVATAR:this.logoSrc};this.API.updateUserinfo(i).then(function(i){t.Util.Toast.success("头像上传成功")}).catch(function(t){})},upload:function(){var i=this;t.chooseImage({count:1,success:function(s){i.Util.Toast.showLoading("上传中...");var e=s.tempFilePaths;t.uploadFile({url:n.API_DOMAIN+"/uploadfile",filePath:e[0],name:"file",formData:{token:t.getStorageSync("token")},success:function(s){i.logoSrc=JSON.parse(s.data).data,t.setStorageSync("avatar",i.logoSrc),i.updateUserinfo()},fail:function(){i.Util.Toast.hideLoading(),i.Util.Toast.toast("上传失败"),console.log("上传失败")}}).onProgressUpdate(function(t){100==t.progress&&(i.Util.Toast.hideLoading(),i.Util.Toast.toast("上传成功"))})}})}},onLoad:function(){},onShow:function(){if(!this.token)return t.showToast({title:"请先登录",icon:"none",duration:1500,mask:!0}),void setTimeout(function(){t.redirectTo({url:"/pages/login/login"})},2e3);var i=t.getStorageSync("avatar");i&&(this.logoSrc=i)}}}).call(i,s(2).default)},84:function(t,i,s){"use strict";var e={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("view",{staticClass:"content"},[s("view",{staticClass:"top-wrap"},[s("view",{attrs:{eventid:"CM1-0"},on:{tap:t.upload}},[s("image",{staticClass:"logo",staticStyle:{width:"60px",height:"60px"},attrs:{src:t.logoSrc,mode:"widthFix"}}),s("view",{staticClass:"info"},[t._v("点击修改头像")])])]),s("view",{staticClass:"b-line"}),s("view",{staticClass:"uni-list"},[s("view",{staticClass:"uni-list-cell",attrs:{eventid:"UCX-1"},on:{tap:function(i){t.goDetail("user/userInfo/userInfo")}}},[s("image",{staticClass:"icon",staticStyle:{width:"36px",height:"36px"},attrs:{mode:"widthFix",src:"/static/img/info.png"}}),t._m(0)]),s("view",{staticClass:"uni-list-cell",attrs:{eventid:"nJk-2"},on:{tap:function(i){t.showMask(!0)}}},[s("image",{staticClass:"icon",staticStyle:{width:"36px",height:"36px"},attrs:{mode:"widthFix",src:"/static/img/friend.png"}}),t._m(1)]),s("view",{staticClass:"uni-list-cell",attrs:{eventid:"ZEj-3"},on:{tap:function(i){t.goDetail("user/suggestion/suggestion")}}},[s("image",{staticClass:"icon",staticStyle:{width:"36px",height:"36px"},attrs:{mode:"widthFix",src:"/static/img/comment.png"}}),t._m(2)]),s("view",{staticClass:"uni-list-cell",attrs:{eventid:"zWs-4"},on:{tap:function(i){t.goDetail("user/about-us/about-us")}}},[s("image",{staticClass:"icon",staticStyle:{width:"36px",height:"36px"},attrs:{mode:"widthFix",src:"/static/img/about.png"}}),t._m(3)]),s("view",{staticClass:"uni-list-cell",attrs:{eventid:"o1H-5"},on:{tap:function(i){t.goDetail("user/loginout/loginout")}}},[s("image",{staticClass:"icon",staticStyle:{width:"36px",height:"36px"},attrs:{mode:"widthFix",src:"/static/img/set.png"}}),t._m(4)])]),s("view",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask,expression:"isShowMask"}],staticClass:"share-content-mask",attrs:{eventid:"CFh-10"},on:{tap:function(i){t.showMask(!1)}}},[s("view",{staticClass:"share-content"},[s("view",{staticClass:"share-des"},[t._v("分享至")]),s("view",{staticClass:"share-list"},[s("view",{staticClass:"share-item",attrs:{eventid:"5ww-6"},on:{tap:function(i){t.shareWeiXin("WXSceneSession")}}},[s("image",{attrs:{src:"/static/img/img/wx.png",mode:"widthFix"}}),s("view",{staticClass:"share-type"},[t._v("微信")])]),s("view",{staticClass:"share-item",attrs:{eventid:"61l-7"},on:{tap:function(i){t.shareWeiXin("WXSenceTimeline")}}},[s("image",{attrs:{src:"/static/img/img/pyq.png",mode:"widthFix"}}),s("view",{staticClass:"share-type"},[t._v("朋友圈")])]),s("view",{staticClass:"share-item",attrs:{eventid:"nqY-8"},on:{tap:t.shareQQ}},[s("image",{attrs:{src:"/static/img/img/qq.png",mode:"widthFix"}}),s("view",{staticClass:"share-type"},[t._v("QQ")])])]),s("button",{staticClass:"hideMask",attrs:{type:"primary",eventid:"mzx-9"},on:{tap:function(i){t.showMask(!1)}}},[t._v("取消")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("view",{staticClass:"input-row  space-between"},[i("text",{staticClass:"title"},[this._v("个人信息")]),i("view",{staticClass:"icon-right"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("view",{staticClass:"input-row  space-between"},[i("text",{staticClass:"title"},[this._v("好友")]),i("view",{staticClass:"icon-right"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("view",{staticClass:"input-row  space-between"},[i("text",{staticClass:"title"},[this._v("意见反馈")]),i("view",{staticClass:"icon-right"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("view",{staticClass:"input-row  space-between"},[i("text",{staticClass:"title"},[this._v("关于融小小")]),i("view",{staticClass:"icon-right"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("view",{staticClass:"input-row  space-between"},[i("text",{staticClass:"title"},[this._v("设置")]),i("view",{staticClass:"icon-right"})])}]};i.a=e}},[80]);