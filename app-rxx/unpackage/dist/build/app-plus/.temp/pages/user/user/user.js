require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([3],{80:function(t,s,i){"use strict";var e=n(i(1)),a=n(i(81));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(a.default))},81:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i(83),a=i.n(e),n=i(84);var o=function(t){i(82)},c=i(0)(a.a,n.a,o,null,null);s.default=c.exports},82:function(t,s){},83:function(t,s,i){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0});var e=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t},a=i(3),n=i(7);s.default={computed:e({},(0,a.mapState)(["token"])),data:function(){return{shareParams:{provider:"weixin",type:0,href:"https://www.baidu.com/",title:"融小小分享",summary:"融小小分享内容",imageUrl:"/static/img/app-logo.png"},isShowMask:!1,logoSrc:"../../../static/img/logo.png"}},onShareAppMessage:function(){return{title:this.title,path:"/pages/home/home",imageUrl:this.imageUrl}},methods:{showMask:function(t){this.isShowMask=t},goDetail:function(s){t.navigateTo({url:"/pages/"+s})},shareWeiXin:function(s){var i=this.shareParams;t.share(e({scene:s},i,{success:function(t){},fail:function(t){plus.nativeUI.toast("分享失败")}}))},shareQQ:function(){var s=this.shareParams;t.share(e({},s,{provider:"qq",success:function(t){},fail:function(t){plus.nativeUI.toast("分享失败")}}))},shareQQ2:function(){var t=null;plus.share.getServices(function(s){for(var i in s)"qq"==s[i].id&&(t=s[i]);null!=t?(plus.nativeUI.toast(JSON.stringify(s)),t.send({content:"我是QQ分享",thumbs:["../../static/img/blogo.png"],href:"https://www.baidu.com/",title:"test"},function(){plus.nativeUI.alert("分享成功！")},function(t){plus.nativeUI.alert("分享失败："+t.message)})):plus.nativeUI.toast("获取分享服务失败")},function(t){plus.nativeUI.alert(t.message)})},updateUserinfo:function(){var t=this,s={AVATAR:this.logoSrc};this.API.updateUserinfo(s).then(function(s){t.Util.Toast.success("头像上传成功")}).catch(function(t){})},upload:function(){var s=this;t.chooseImage({count:1,success:function(i){s.Util.Toast.showLoading("上传中...");var e=i.tempFilePaths;t.uploadFile({url:n.API_DOMAIN+"/uploadfile",filePath:e[0],name:"file",formData:{token:t.getStorageSync("token")},success:function(i){s.logoSrc=JSON.parse(i.data).data,t.setStorageSync("avatar",s.logoSrc),s.updateUserinfo()},fail:function(){s.Util.Toast.hideLoading(),s.Util.Toast.toast("上传失败"),console.log("上传失败")}}).onProgressUpdate(function(t){100==t.progress&&(s.Util.Toast.hideLoading(),s.Util.Toast.toast("上传成功"))})}})}},onLoad:function(){},onShow:function(){if(!this.token)return t.showToast({title:"请先登录",icon:"none",duration:1500,mask:!0}),void setTimeout(function(){t.redirectTo({url:"/pages/login/login"})},2e3);var s=t.getStorageSync("avatar");s&&(this.logoSrc=s)}}}).call(s,i(2).default)},84:function(t,s,i){"use strict";var e={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",{staticClass:"content"},[i("view",{staticClass:"top-wrap"},[i("view",{attrs:{eventid:"0TP-0"},on:{tap:t.upload}},[i("image",{staticClass:"logo",staticStyle:{width:"60px",height:"60px"},attrs:{src:t.logoSrc,mode:"widthFix"}}),i("view",{staticClass:"info"},[t._v("点击修改头像")])])]),i("view",{staticClass:"b-line"}),i("view",{staticClass:"uni-list"},[i("view",{staticClass:"uni-list-cell",attrs:{eventid:"JX0-1"},on:{tap:function(s){t.goDetail("user/userInfo/userInfo")}}},[i("image",{staticClass:"icon",staticStyle:{width:"36px",height:"36px"},attrs:{mode:"widthFix",src:"/static/img/info.png"}}),t._m(0)]),i("view",{staticClass:"uni-list-cell",attrs:{eventid:"VBB-2"},on:{tap:function(s){t.showMask(!0)}}},[i("image",{staticClass:"icon",staticStyle:{width:"36px",height:"36px"},attrs:{mode:"widthFix",src:"/static/img/friend.png"}}),t._m(1)]),i("view",{staticClass:"uni-list-cell",attrs:{eventid:"Uas-3"},on:{tap:function(s){t.goDetail("user/suggestion/suggestion")}}},[i("image",{staticClass:"icon",staticStyle:{width:"36px",height:"36px"},attrs:{mode:"widthFix",src:"/static/img/comment.png"}}),t._m(2)]),i("view",{staticClass:"uni-list-cell",attrs:{eventid:"SFK-4"},on:{tap:function(s){t.goDetail("user/about-us/about-us")}}},[i("image",{staticClass:"icon",staticStyle:{width:"36px",height:"36px"},attrs:{mode:"widthFix",src:"/static/img/about.png"}}),t._m(3)]),i("view",{staticClass:"uni-list-cell",attrs:{eventid:"ypf-5"},on:{tap:function(s){t.goDetail("user/loginout/loginout")}}},[i("image",{staticClass:"icon",staticStyle:{width:"36px",height:"36px"},attrs:{mode:"widthFix",src:"/static/img/set.png"}}),t._m(4)])]),i("view",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask,expression:"isShowMask"}],staticClass:"share-content-mask",attrs:{eventid:"42C-10"},on:{tap:function(s){t.showMask(!1)}}},[i("view",{staticClass:"share-content"},[i("view",{staticClass:"share-des"},[t._v("分享至")]),i("view",{staticClass:"share-list"},[i("view",{staticClass:"share-item",attrs:{eventid:"AW5-6"},on:{tap:function(s){t.shareWeiXin("WXSceneSession")}}},[i("image",{attrs:{src:"/static/img/img/wx.png",mode:"widthFix"}}),i("view",{staticClass:"share-type"},[t._v("微信")])]),i("view",{staticClass:"share-item",attrs:{eventid:"Eq6-7"},on:{tap:function(s){t.shareWeiXin("WXSenceTimeline")}}},[i("image",{attrs:{src:"/static/img/img/pyq.png",mode:"widthFix"}}),i("view",{staticClass:"share-type"},[t._v("朋友圈")])]),i("view",{staticClass:"share-item",attrs:{eventid:"Jaj-8"},on:{tap:t.shareQQ}},[i("image",{attrs:{src:"/static/img/img/qq.png",mode:"widthFix"}}),i("view",{staticClass:"share-type"},[t._v("QQ")])])]),i("button",{staticClass:"hideMask",attrs:{type:"primary",eventid:"XAX-9"},on:{tap:function(s){t.showMask(!1)}}},[t._v("取消")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("view",{staticClass:"input-row  space-between"},[s("text",{staticClass:"title"},[this._v("个人信息")]),s("view",{staticClass:"icon-right"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("view",{staticClass:"input-row  space-between"},[s("text",{staticClass:"title"},[this._v("好友")]),s("view",{staticClass:"icon-right"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("view",{staticClass:"input-row  space-between"},[s("text",{staticClass:"title"},[this._v("意见反馈")]),s("view",{staticClass:"icon-right"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("view",{staticClass:"input-row  space-between"},[s("text",{staticClass:"title"},[this._v("关于融小小")]),s("view",{staticClass:"icon-right"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("view",{staticClass:"input-row  space-between"},[s("text",{staticClass:"title"},[this._v("设置")]),s("view",{staticClass:"icon-right"})])}]};s.a=e}},[80]);